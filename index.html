<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>测试</title>
    <link rel="stylesheet" href="https://www.layuicdn.com/layui-v2.5.6/css/layui.css">
</head>
<style>
    .container {
        padding: 20px;
        padding-top: 40px;
    }

    #Items {
        padding-top: 30px;
    }

    .container-btn {
        padding: 20px;
    }
</style>

<body>
    <div class="container">
        <div class="input-block">
            <input type="text" name="title" required lay-verify="required" placeholder="输入测试链接" autocomplete="off"
                class="layui-input">
            <div class="container-btn">
                <button type="button" class="layui-btn layui-btn-fluid layui-bg-blue"
                    onclick="openTestPage()">Go</button>
            </div>
<!--             <hr />
            <div id="Items">
                <div class="layui-row layui-col-space10">
                    <div class="layui-col-xs6" v-for="item in urls">
                        <button type="button" class="layui-btn layui-btn-fluid layui-bg-blue"
                            @click="open(item.url,item.name)">{{item.name}}</button>
                    </div>
                </div>
            </div> -->
        </div>
    </div>
    <script src="https://www.layuicdn.com/layui-v2.5.6/layui.js"></script>
<!--     <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
    <script>
        function pushWindow(url, title) {
            if (isIOS()) {
                window.webkit.messageHandlers.pushWindow.postMessage({
                    "url": url,
                    "title": title
                });
            } else {
                //window.location.href = url;
                ms.pushWindow(document.querySelector("textarea").value, title)
            }
        }
        function openTestPage() {
            let url = document.querySelector("input").value;
            if (url) {
                pushWindow(url, 'Test');
            } else {
                layui.use('layer', function () {
                    var layer = layui.layer;
                    layer.msg('请输入测试链接');
                });
            }
        }
        function isIOS() {
            return /iPhone|iPad|iPod/.test(navigator.userAgent)
        }
    </script>
</body>

</html>
